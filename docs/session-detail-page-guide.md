# セッション詳細ページ 画面構成ガイド

## 概要

セッション詳細ページは、特定のイベントセッションの詳細情報を表示し、参加者管理やセッション編集を行う画面です。

## URL構成

```
/event/{eventId}/session/{sessionId}
```

### 例
- `/event/event-company-info/session/session-company-info-1`
- `/event/event-individual-interview/session/session-individual-interview-a`

## 画面構成

### 1. ヘッダー部分

```
┌─────────────────────────────────────────────────────────────┐
│ ← イベント詳細に戻る    セッション詳細                      │
│                          会社説明会                         │
└─────────────────────────────────────────────────────────────┘
```

**要素:**
- 戻るボタン（イベント詳細ページへのリンク）
- ページタイトル「セッション詳細」
- イベント名

### 2. セッション情報カード

```
┌─────────────────────────────────────────────────────────────┐
│ セッション情報                    [編集] [削除]             │
├─────────────────────────────────────────────────────────────┤
│ 開始日時: 2024年2月15日 14:00    開催場所: 本社オフィスA    │
│ 終了日時: 2024年2月15日 16:00    開催形式: 対面            │
│                              参加者数: 3名                 │
│                                                             │
│ 備考: 初回参加者向けの説明会です                           │
└─────────────────────────────────────────────────────────────┘
```

**要素:**
- セッション名
- 開始・終了日時
- 開催場所
- 開催形式（対面/オンライン）
- 参加者数
- 備考（オプション）
- 編集・削除ボタン

### 3. 管理情報カード

```
┌─────────────────────────────────────────────────────────────┐
│ 📋 管理情報                                                 │
├─────────────────────────────────────────────────────────────┤
│ リクルーター: [田中部長______________]                      │
│                                                             │
│ ☐ 開催報告とリマインド                                      │
│ ☐ 人数報告                                                  │
│                                                             │
│ 参加者数統計:                                               │
│ ┌─────────────┐  ┌─────────────┐                           │
│ │ 👤 予約数   │  │ 👥 参加数   │                           │
│ │    2名      │  │    1名      │                           │
│ └─────────────┘  └─────────────┘                           │
└─────────────────────────────────────────────────────────────┘
```

**要素:**
- リクルーター名入力フィールド
- 開催報告とリマインドチェックボックス
- 人数報告チェックボックス
- 参加者数統計（予約数・参加数）

### 4. 参加者一覧

```
┌─────────────────────────────────────────────────────────────┐
│ 参加者一覧 (3名)                    [評定表管理]            │
├─────────────────────────────────────────────────────────────┤
│ 田中太郎 (tanaka@example.com)        [未定 ▼]              │
│ 佐藤花子 (sato@example.com)          [参加 ▼]              │
│ 鈴木次郎 (suzuki@example.com)        [未定 ▼]              │
└─────────────────────────────────────────────────────────────┘
```

**要素:**
- 参加者名とメールアドレス
- 参加ステータスドロップダウン
- 評定表管理ボタン

## 機能詳細

### セッション編集機能

1. **編集ボタンクリック**
   - セッション情報フォームが表示される
   - 日時、場所、形式などを編集可能

2. **削除ボタンクリック**
   - 確認ダイアログが表示される
   - 削除後はイベント詳細ページに戻る

### 参加者管理機能

1. **ステータス変更**
   - 各参加者のステータスを変更可能
   - 選択肢: 未定、申込、参加、不参加、欠席

2. **評定表管理**
   - 参加者一覧ページに遷移
   - 各参加者の評価を管理

### 管理情報機能

1. **リクルーター設定**
   - 担当リクルーターを設定
   - リアルタイムで保存

2. **チェックボックス機能**
   - 開催報告とリマインド
   - 人数報告
   - チェック時に完了日時が記録される

## データフロー

### 1. データ取得
```typescript
// URLパラメータから取得
const { eventId, sessionId } = useParams();

// イベント情報取得
const event = events.find(e => e.id === eventId);

// セッション情報取得
const sessions = getEventSessions(eventId);
const session = sessions.find(s => s.id === sessionId);

// 参加者情報取得
const participants = getParticipantsBySession(sessionId);
```

### 2. データ更新
```typescript
// セッション更新
updateEventSession(sessionId, updates);

// 参加者ステータス更新
updateParticipantStatus(participantId, status);

// 参加者削除
deleteEventSession(sessionId);
```

## エラーハンドリング

### 1. データが見つからない場合
```
セッションが見つかりませんでした。

デバッグ情報:
eventId: event-company-info
sessionId: session-company-info-1
イベント数: 10
イベント: 見つかりました
セッション数: 0
セッション: 見つかりません

← イベント詳細に戻る
```

### 2. ローディング中
```
[スピナーアニメーション]
読み込み中...
```

## レスポンシブ対応

### デスクトップ表示
- 2カラムレイアウト
- サイドバーに管理情報
- メインエリアに参加者一覧

### モバイル表示
- 1カラムレイアウト
- カード形式で情報を整理
- タッチフレンドリーなボタンサイズ

## アクセシビリティ

### 1. キーボードナビゲーション
- Tabキーでフォーカス移動
- Enterキーでボタンアクティベート
- Escapeキーでモーダル閉じる

### 2. スクリーンリーダー対応
- 適切なaria-label設定
- セマンティックなHTML構造
- 状態変更の通知

## パフォーマンス最適化

### 1. データキャッシュ
- ローカルストレージを使用
- 不要な再取得を防止

### 2. 遅延読み込み
- 参加者一覧の段階的表示
- 画像の遅延読み込み

## セキュリティ考慮事項

### 1. 入力検証
- リクルーター名の文字数制限
- 日時の妥当性チェック

### 2. 権限管理
- 編集・削除権限の確認
- 参加者情報のアクセス制御

---

*このガイドは、セッション詳細ページの設計と実装の参考として作成されています。*
